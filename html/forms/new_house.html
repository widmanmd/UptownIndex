<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Keywords" content="New House">
    <meta name="Description" content="Insertion page for properties">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>New House</title>
    <!--bootstrap CDN-->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!--local js file-->
    <script src="../../js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="../../js/ajaxTest.js"></script>
    <script type="text/javascript" src="../../js/header.js"></script>
    <!--local css file-->
    <style type="text/css">
        *{margin:0; padding:0}
        a{text-decoration: none;}
        ol,ul{list-style:none;}
        /*textarea{resize: none;}*/

        .newHouse-wrap{
            width: 70%;
            margin: 0 auto;
        }
        .prompt{
            float: left;
        }

        h2{padding-top: 10px;}

        #newHouse-info{
            text-align: center;
            font-weight: 700;
            box-sizing: border-box;
        }

        .add{width: 400px; margin-bottom: 20px;}
        .box1{float: left; margin-right: 50px;}

        #description{width: 400px;resize: none;display: inline-block;}
    </style>
    
    <script type="text/javascript">
    $(document).ready(function(){
        $('.aptNumber').hide();
        var appendCount = 0;
        $("input[type='radio']").click(function(){
            var radioValue = $("input[name='propertyType']:checked");
            if(radioValue.length > 0){
                if (radioValue.val() == "APARTMENT") {
                    if (appendCount < 1) {
                        $('.aptNumber').show();
                    }
                    
                }
                else {
                    $('.aptNumber').hide();
                    appendCount = 0;
                }
            }
        });

        $("#newHouseForm").submit( function(evt) {
           evt.preventDefault();
           
            var form = document.getElementById("newHouseForm");
            var FD = new FormData(form);
            ajaxPost("properties.php/v2/add", FD, postProperty);
        });
        
    });
</script>
</head>

<body>
    <div id="header"></div>

    <div class = "newHouse-wrap">
        <h2><span id = "newHouse-info">Add New Properties</span></h2>
        <hr>

        <form method="post" onsubmit="" id="newHouseForm">
            <div class = "prompt">
                <!--address section-->
                <div class = "add address">
                    <h5><label for="address">Address:</label></h5>
                    <div>
                        <input type="text" class = "form-control" id = "address" name = "address"  placeholder="# and street name">
                        <span class = "warn address"></span>
                    </div>
                </div>
                
                <div class="form-group">
                        <label for="photo" style="float: left">Photo:</label>
                        <input type="file" id="photoUpload" name="files[]" multiple>
                    </div>

                <div class="add apartment">
                    <h5><span>Is the property an apartment?</span></h5>
                    <div class = "box1">
                        <label class="radio-inline">
                            <input type="radio" name="propertyType" value="APARTMENT"><span>&emsp;Yes</span>
                        </label>
                    </div>
                    <div class = "box2">
                        <label class="radio-inline">
                            <input type="radio" name="propertyType" value="HOUSE"><span>&emsp;No</span>
                        </label>
                    </div>
                </div>
                
                <div class="aptNumber">
                            <label for="apt_number" style="float: left";>Apartment #:</label>
                            <input type="aptNum" class="form-control" id="aptNum" aria-describedby="aptNum" value="0"
                            input name="apt_number" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'')">
                            <br>
                    </div>

                <div class = "add houseName">
                    <h5><label for="houseName">House Name:</label></h5>
                    <div>
                        <input type="text" class = "form-control" id = "houseName" name = "name"  placeholder="# and street name">
                        <span class = "warn houseName"></span>
                    </div>
                </div>

                <div class = "add bedRoom">
                    <h5><label for="bedRoom"># of Bedrooms:</label></h5>
                    <div>
                        <input type="text" class = "form-control" id = "bedRoom" name = "beds"  placeholder="Please enter a numerical value">
                        <span class = "warn bedRoom"></span>
                    </div>
                </div>


                <div class = "add bathRoom">
                    <h5><label for="bedRoom"># of Bathrooms:</label></h5>
                    <div>
                        <input type="text" class = "form-control" id = "bathRoom" name = "baths"  placeholder="Please enter a numerical value">
                        <span class = "warn bathRoom"></span>
                    </div>
                </div>

                <div class = "add Tenants">
                    <h5><label for="tenants"># of Tenants:</label></h5>
                    <div>
                        <input type="text" class = "form-control" id = "tenants" name = "occupancy"  placeholder="Please enter a numerical value">
                        <span class = "warn tenants"></span>
                    </div>
                </div>

                <div class = "add description">
                    <h5><label for="description">Description:</label></h5>
                    <div class = "box3">
                        <textarea class="form-control" id="description" name="description" rows="3"></textarea>
                        <span class = "warn description"></span>
                    </div>
                </div>

                <div class="submitButton">
                    <button type="submit" value="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>
        </form>
    </div>
</body>
</html>

